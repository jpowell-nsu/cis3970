<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Inheritance and Constructor Subtleties in Java</title>

  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 800px;
      margin: 40px auto;
      padding: 0 20px;
      line-height: 1.6;
      background-color: #0D1117;
      color: #AAA;
    }

    h1 {
      text-align: center;
      color: #AAA;
    }

    h2 {
      margin-top: 36px;
      color: #DDD;
      font-size: 1.25em;
      border-bottom: 1px solid #222;
      padding-bottom: 6px;
    }

    h3 {
      margin-top: 20px;
      color: #CCC;
    }

    a {
      color: #58a6ff;
      text-decoration: none;
    }

    a:hover {
      text-decoration: underline;
    }

    .toc {
      background-color: #161b22;
      padding: 16px;
      border-radius: 6px;
      margin-bottom: 30px;
    }

    .toc ul {
      list-style-type: none;
      padding-left: 0;
    }

    .toc li {
      margin-bottom: 6px;
    }

    ul {
      padding-left: 20px;
    }

    li {
      margin-bottom: 8px;
    }

    pre {
      background-color: #161b22;
      padding: 14px;
      border-radius: 6px;
      overflow-x: auto;
      font-size: 0.95em;
    }

    code {
      font-family: Consolas, Monaco, monospace;
    }

    /* Java syntax highlighting */
    .java .keyword { color: #ff7b72; }
    .java .type { color: #79c0ff; }
    .java .string { color: #a5d6ff; }
    .java .comment { color: #8b949e; font-style: italic; }
    .java .method { color: #d2a8ff; }

    .back-to-top {
      margin-top: 12px;
      font-size: 0.85em;
    }

    .note {
      margin-top: 40px;
      font-size: 0.9em;
      color: #AAA;
    }
  </style>
</head>
<body id="top">

<h1>Some Important Subtleties of Inheritance and Constructors in Java</h1>

<p class="note" align="center">(Not necessarily an all-inclusive list.)</p>
<p class="note" align="center">(Please let me know if you see any errors.)</p>

<div class="toc">
  <strong>Contents</strong>
  <ul>
    <li><a href="#not-inherited">Constructors Are Not Inherited</a></li>
    <li><a href="#chaining">Constructor Chaining</a></li>
    <li><a href="#no-noarg">No No-Arg Superclass Constructor</a></li>
    <li><a href="#super-first">super() Must Be First</a></li>
    <li><a href="#init-order">Initialization Order</a></li>
    <li><a href="#override-danger">Overridden Methods in Constructors</a></li>
    <li><a href="#this-vs-super">this() vs super()</a></li>
    <li><a href="#own-fields">Each Class Initializes Its Own Fields</a></li>
    <li><a href="#default-constructors">Default Constructors</a></li>
    <li><a href="#abstract">Abstract Class Constructors</a></li>
    <li><a href="#not-polymorphic">Constructors Are Not Polymorphic</a></li>
    <li><a href="#initializers">Static and Instance Initializers</a></li>
    <li><a href="#incheritancechain">Calling super in a Chain of Inheritance</a></li>
    <li><a href="#exception-handling">Exception Handling</a></li>
    <li><a href="#creation-sequence">Object Creation Sequence</a></li>
  </ul>
</div>

<section id="not-inherited">
  <h2>Constructors Are Not Inherited</h2>
  <ul>
    <li>Subclasses do not inherit constructors from their parent class.</li>
    <li>Subclasses can call a superclass constructor using <code>super(...)</code>.</li>
  </ul>
  <div class="back-to-top"><a href="#top">↑ Back to Top</a></div>
</section>

<section id="chaining">
  <h2>Constructor Chaining Happens Automatically</h2>
  <ul>
    <li>All ancestor constructors execute when a subclass is instantiated.</li>
	<li>They are executed from the topmost superclass down to the subclass</li>
    <li>If not specified, Java inserts an implicit <code>super()</code>.</li>
  </ul>

  <pre class="java"><code>
<span class="keyword">class</span> <span class="type">A</span> {
    <span class="method">A</span>() {
        <span class="type">System</span>.out.println(<span class="string">"A"</span>);
    }
}

<span class="keyword">class</span> <span class="type">B</span> <span class="keyword">extends</span> <span class="type">A</span> {
    <span class="method">B</span>() {
        <span class="type">System</span>.out.println(<span class="string">"B"</span>);
    }
}
  </code></pre>

  <p><strong>Output:</strong></p>

  <pre><code>
A
B
  </code></pre>

  <div class="back-to-top"><a href="#top">↑ Back to Top</a></div>
</section>

<section id="no-noarg">
  <h2>If the Superclass Has No No-Arg Constructor</h2>
  <ul>
    <li>The subclass must explicitly call <code>super(args)</code>.</li>
    <li>Otherwise, compilation fails.</li>
  </ul>
  <div class="back-to-top"><a href="#top">↑ Back to Top</a></div>
</section>

<section id="super-first">
  <h2>The super() Call Must Be the First Statement</h2>
  <ul>
    <li>No statements may appear before <code>super()</code>.</li>
    <li>If omitted, Java inserts it automatically (if possible).</li>
    <li>Java 24 introduces a preview feature allowing pre-constructor code.</li>
  </ul>
  <div class="back-to-top"><a href="#top">↑ Back to Top</a></div>
</section>

<section id="init-order">
  <h2>Instance Variable Initialization Order</h2>
  <ol>
    <li>Memory allocated for all fields.</li>
    <li>Superclass initialization occurs first.</li>
    <li>Subclass initialization follows.</li>
  </ol>
  <div class="back-to-top"><a href="#top">↑ Back to Top</a></div>
</section>

<section id="override-danger">
  <h2>Avoid Calling Overridden Methods in Constructors</h2>
  <ul>
    <li>Overridden methods may run before subclass fields initialize.</li>
    <li>This can cause inconsistent or unsafe behavior.</li>
  </ul>
  <p>A superclass constructor should not invoke non-final, non-static methods
  	that may be overridden in subclasses. Because of polymorphism, such a call
  	can execute the subclass’s overridden method before the subclass’s instance
  	variables have been initialized, potentially leading to inconsistent or 
  	erroneous behavior.</p>
  
  <div class="back-to-top"><a href="#top">↑ Back to Top</a></div>
</section>

<section id="this-vs-super">
  <h2>this() vs super()</h2>
  <ul>
    <li><code>this()</code> calls another constructor in the same class.</li>
    <li><code>super()</code> calls a superclass constructor.</li>
    <li>You may use one or the other — not both.</li>
  </ul>
  <div class="back-to-top"><a href="#top">↑ Back to Top</a></div>
</section>

<section id="own-fields">
  <h2>Each Class Has Responsibility for Its Own Fields</h2>
  <ul>
    <li>Each constructor initializes only its own class's fields.</li>
    <li>Superclass fields must be initialized via <code>super() for proper initialization</code>.</li>
  </ul>
  <div class="back-to-top"><a href="#top">↑ Back to Top</a></div>
</section>

<section id="default-constructors">
  <h2>Default Constructors and Inheritance</h2>
  <ul>
    <li>No constructors → Java supplies a default no-arg constructor.</li>
    <li>Defining any constructor suppresses the default.</li>
    <li>Constructors are not inherited, but initialization behavior is.</li>
  </ul>
  <div class="back-to-top"><a href="#top">↑ Back to Top</a></div>
</section>

<section id="abstract">
  <h2>Abstract Classes Still Have Constructors</h2>
  <ul>
    <li>Abstract classes cannot be instantiated.</li>
    <li>Their constructors still run during subclass creation.</li>
  </ul>
  <div class="back-to-top"><a href="#top">↑ Back to Top</a></div>
</section>

<section id="not-polymorphic">
  <h2>Constructors Are Not Polymorphic</h2>
  <ul>
    <li>Constructors cannot be overridden.</li>
    <li>Execution depends on the instantiated class.</li>
  </ul>
  <div class="back-to-top"><a href="#top">↑ Back to Top</a></div>
</section>

<section id="initializers">
  <h2>Static and Instance Initializers</h2>
  <ol>
    <li>Static initializers (only once, when the class loads)</li>
    <li>Instance variable initializers (superclass → subclass)</li>
    <li>Constructors (superclass → subclass)</li>
  </ol>
  <div class="back-to-top"><a href="#top">↑ Back to Top</a></div>
</section>

<section id="inheritancechain">
  <h2>Calling super in a Chain of Inheritance</h2>
  <ol>
    <li>Each level can call a specific superclass constructor</li>
    <li>Each level can pass arguments upward, possibly modifying/validating them at each level</li>
    <li>This provides a clear chain of responsibility for setting up the object state.</li>
  </ol>
  <div class="back-to-top"><a href="#top">↑ Back to Top</a></div>
</section>

<section id="exception-handling">
  <h2>Exception Handling in Constructors</h2>
  <ul>
    <li>Checked exceptions must be declared or handled.</li>
    <li>If a superclass constructor throws a checked exception, the subclass constructor must throw it or handle it.</li>
    <li>This ensures all parts of the hierarchy honor exception contracts.</li>
  </ul>
  <div class="back-to-top"><a href="#top">↑ Back to Top</a></div>
</section>

<section id="creation-sequence">
  <h2>Object Creation Sequence Summary</h2>
  <p>Example: Class C that extends B that extends A</p>
  <ol>
    <li>Memory allocated for all fields.</li>
    <li>Static initializers: A → B → C</li>
    <li>Constructors: A → B → C</li>
  </ol>
  <div class="back-to-top"><a href="#top">↑ Back to Top</a></div>
</section>

</body>
</html>